{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\latar\\\\OneDrive\\\\\\u10E1\\u10D0\\u10DB\\u10E3\\u10E8\\u10D0\\u10DD \\u10D3\\u10D0\\u10E4\\u10D0\\\\Projects Of 2022\\\\campus\\\\public\\\\src\\\\context.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from 'react';\nimport { useCallback } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AppContext = /*#__PURE__*/React.createContext();\n\nconst AppProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [people, setPoeple] = useState([]);\n  const getPeople = useCallback(async () => {\n    setLoading(true);\n\n    try {\n      const vis = await axios.post('http://localhost:4000/getPeople');\n      const data = vis.data.map(user => {\n        const result = user.visitors.map(data => {\n          if (data.name.toUpperCase().includes(searchTerm.toUpperCase()) || data.id.includes(searchTerm)) {\n            return data;\n          }\n        });\n\n        if (result[0] === undefined) {\n          console.log(\"Empty\");\n        } // if (result.) {\n        //     let finalResult = {\n        //         user_name: user.name,\n        //         user_surname: user.surname,\n        //         user_status: user.status,\n        //         visitors: result\n        //     }\n        //     return finalResult;\n        // }\n\n      });\n      console.log(data);\n    } catch (err) {\n      console.log(err.message);\n      setLoading(false);\n    }\n  }, [searchTerm]);\n  useEffect(() => {\n    getPeople();\n  }, [setSearchTerm, getPeople]);\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      loading,\n      searchTerm,\n      setSearchTerm,\n      people\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AppProvider, \"205AlTgf3PPuFQJKLGICCQZxSv0=\");\n\n_c = AppProvider;\nexport const useGlobalContext = () => {\n  _s2();\n\n  return useContext(AppContext);\n};\n\n_s2(useGlobalContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport { AppContext, AppProvider };\n\nvar _c;\n\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"names":["React","useState","useContext","useEffect","useCallback","axios","AppContext","createContext","AppProvider","children","loading","setLoading","searchTerm","setSearchTerm","people","setPoeple","getPeople","vis","post","data","map","user","result","visitors","name","toUpperCase","includes","id","undefined","console","log","err","message","useGlobalContext"],"sources":["C:/Users/latar/OneDrive/სამუშაო დაფა/Projects Of 2022/campus/public/src/context.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react'\r\nimport { useCallback } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst AppContext = React.createContext()\r\n\r\nconst AppProvider = ({ children }) => {\r\n    const [loading, setLoading] = useState(true)\r\n    const [searchTerm, setSearchTerm] = useState('')\r\n    const [people, setPoeple] = useState([])\r\n\r\n\r\n    const getPeople = useCallback(async () => {\r\n        setLoading(true);\r\n        try {\r\n            const vis = await axios.post('http://localhost:4000/getPeople')\r\n            const data = vis.data.map((user) => {\r\n                const result = user.visitors.map((data) => {\r\n                    if (data.name.toUpperCase().includes(searchTerm.toUpperCase()) || data.id.includes(searchTerm)) {\r\n                        return data;\r\n                    }\r\n                })\r\n                if (result[0] === undefined) {\r\n                    console.log(\"Empty\")\r\n                }\r\n                // if (result.) {\r\n                //     let finalResult = {\r\n                //         user_name: user.name,\r\n                //         user_surname: user.surname,\r\n                //         user_status: user.status,\r\n                //         visitors: result\r\n                //     }\r\n                //     return finalResult;\r\n                // }\r\n\r\n            })\r\n            console.log(data);\r\n        } catch (err) {\r\n            console.log(err.message)\r\n            setLoading(false);\r\n        }\r\n\r\n    }, [searchTerm])\r\n\r\n    useEffect(() => {\r\n        getPeople();\r\n    }, [setSearchTerm, getPeople])\r\n\r\n    return (\r\n        <AppContext.Provider value={{\r\n            loading, searchTerm, setSearchTerm, people,\r\n        }}>\r\n            {children}\r\n        </AppContext.Provider>\r\n    )\r\n}\r\n\r\nexport const useGlobalContext = () => {\r\n    return useContext(AppContext)\r\n}\r\n\r\nexport { AppContext, AppProvider }"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,SAASC,WAAT,QAA4B,OAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,UAAU,gBAAGN,KAAK,CAACO,aAAN,EAAnB;;AAEA,MAAMC,WAAW,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EAClC,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,IAAD,CAAtC;EACA,MAAM,CAACW,UAAD,EAAaC,aAAb,IAA8BZ,QAAQ,CAAC,EAAD,CAA5C;EACA,MAAM,CAACa,MAAD,EAASC,SAAT,IAAsBd,QAAQ,CAAC,EAAD,CAApC;EAGA,MAAMe,SAAS,GAAGZ,WAAW,CAAC,YAAY;IACtCO,UAAU,CAAC,IAAD,CAAV;;IACA,IAAI;MACA,MAAMM,GAAG,GAAG,MAAMZ,KAAK,CAACa,IAAN,CAAW,iCAAX,CAAlB;MACA,MAAMC,IAAI,GAAGF,GAAG,CAACE,IAAJ,CAASC,GAAT,CAAcC,IAAD,IAAU;QAChC,MAAMC,MAAM,GAAGD,IAAI,CAACE,QAAL,CAAcH,GAAd,CAAmBD,IAAD,IAAU;UACvC,IAAIA,IAAI,CAACK,IAAL,CAAUC,WAAV,GAAwBC,QAAxB,CAAiCd,UAAU,CAACa,WAAX,EAAjC,KAA8DN,IAAI,CAACQ,EAAL,CAAQD,QAAR,CAAiBd,UAAjB,CAAlE,EAAgG;YAC5F,OAAOO,IAAP;UACH;QACJ,CAJc,CAAf;;QAKA,IAAIG,MAAM,CAAC,CAAD,CAAN,KAAcM,SAAlB,EAA6B;UACzBC,OAAO,CAACC,GAAR,CAAY,OAAZ;QACH,CAR+B,CAShC;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;MAEH,CAnBY,CAAb;MAoBAD,OAAO,CAACC,GAAR,CAAYX,IAAZ;IACH,CAvBD,CAuBE,OAAOY,GAAP,EAAY;MACVF,OAAO,CAACC,GAAR,CAAYC,GAAG,CAACC,OAAhB;MACArB,UAAU,CAAC,KAAD,CAAV;IACH;EAEJ,CA9B4B,EA8B1B,CAACC,UAAD,CA9B0B,CAA7B;EAgCAT,SAAS,CAAC,MAAM;IACZa,SAAS;EACZ,CAFQ,EAEN,CAACH,aAAD,EAAgBG,SAAhB,CAFM,CAAT;EAIA,oBACI,QAAC,UAAD,CAAY,QAAZ;IAAqB,KAAK,EAAE;MACxBN,OADwB;MACfE,UADe;MACHC,aADG;MACYC;IADZ,CAA5B;IAAA,UAGKL;EAHL;IAAA;IAAA;IAAA;EAAA,QADJ;AAOH,CAjDD;;GAAMD,W;;KAAAA,W;AAmDN,OAAO,MAAMyB,gBAAgB,GAAG,MAAM;EAAA;;EAClC,OAAO/B,UAAU,CAACI,UAAD,CAAjB;AACH,CAFM;;IAAM2B,gB;;AAIb,SAAS3B,UAAT,EAAqBE,WAArB"},"metadata":{},"sourceType":"module"}